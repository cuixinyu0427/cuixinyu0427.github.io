<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>修改源码记录(方便后续升级)</title>
      <link href="/posts/a98ed020.html"/>
      <url>/posts/a98ed020.html</url>
      
        <content type="html"><![CDATA[<h2 id="隐藏友链页面全部友链按钮"><a href="#隐藏友链页面全部友链按钮" class="headerlink" title="隐藏友链页面全部友链按钮"></a>隐藏友链页面全部友链按钮</h2><ol><li>注释无用代码<br>打开[Blogroot]&#x2F;themes&#x2F;anzhiyu&#x2F;layout&#x2F;includes&#x2F;page&#x2F;flink.pug，注释全部友链代码<details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.title-h2-a</span><br><span class="line">  .title-h2-a-left</span><br><span class="line">    h2(style=<span class="string">&#x27;padding-top:0;margin:.6rem 0 .6rem&#x27;</span>) 🎣 钓鱼</span><br><span class="line">    a.random-post-start.no-text-decoration(href=<span class="string">&#x27;javascript:fetchRandomPost();&#x27;</span>)</span><br><span class="line">      i.anzhiyufont.anzhiyu-icon-arrow-rotate-right</span><br><span class="line">  //.title-h2-a-right</span><br><span class="line">  //  a.random-post-all.no-text-decoration(href=<span class="string">&#x27;/link/&#x27;</span>) 全部友链</span><br><span class="line"><span class="comment">#random-post</span></span><br><span class="line"></span><br><span class="line">include ../anzhiyu/random-friends-post-js.pug</span><br></pre></td></tr></table></figure>              </div>            </details></li></ol><h2 id="修改footer样式"><a href="#修改footer样式" class="headerlink" title="修改footer样式"></a>修改footer样式</h2><ol><li><p>新增底部样式<br>打开[Blogroot]&#x2F;themes&#x2F;anzhiyu&#x2F;layout&#x2F;includes&#x2F;footer.pug，在底部新增代码</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#footer-banner</span></span><br><span class="line">  .footer-banner-links</span><br><span class="line">    .footer-banner-left</span><br><span class="line">      <span class="comment">#footer-banner-tips</span></span><br><span class="line">      script.</span><br><span class="line">        var typed = new Typed(<span class="string">&quot;#footer-banner-tips&quot;</span>, &#123;</span><br><span class="line">          strings: [<span class="string">&quot;最好的地方，是没去过的地方。最好的时光，是回不来的时光。&quot;</span>, <span class="string">&quot;The best place is a place you&#x27;ve never been to. The best time is the time that can&#x27;t come back.&quot;</span>],</span><br><span class="line">          startDelay: 200,</span><br><span class="line">          backDelay: 2000,</span><br><span class="line">          typeSpeed: 100,</span><br><span class="line">          loop: <span class="literal">true</span>,</span><br><span class="line">          backSpeed: 20</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    .footer-banner-right</span><br><span class="line">      <span class="comment">#runtimeTextFoot</span></span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>打开[Blogroot]&#x2F;_config.anzhiyu.yml，引入typed.min.js</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  <span class="built_in">head</span>:</span><br><span class="line">    - &lt;script data-pjax src=<span class="string">&quot;/js/typed.min.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>修改站点运行时间逻辑<br>打开[Blogroot]&#x2F;themes&#x2F;anzhiyu&#x2F;layout&#x2F;includes&#x2F;third-party&#x2F;runtime&#x2F;runtime-js.pug，并修改</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">// 更新网页中显示的网站运行时间</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">updateHtml</span></span>() &#123;</span><br><span class="line">  const footer = document.getElementById(<span class="string">&quot;footer&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (!footer) <span class="built_in">return</span></span><br><span class="line">  <span class="built_in">let</span> currentTimeHtml = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> (nowHour &lt; 18 &amp;&amp; nowHour &gt;= 9) &#123;</span><br><span class="line">    // 如果是上班时间，默认就是<span class="string">&quot;安知鱼-上班摸鱼中.svg&quot;</span>图片，不需要更改</span><br><span class="line">    //currentTimeHtml = `本站居然运行了 <span class="variable">$&#123;dnum&#125;</span> 天&lt;span <span class="built_in">id</span>=<span class="string">&#x27;runtime&#x27;</span>&gt; <span class="variable">$&#123;hnum&#125;</span> 小时 <span class="variable">$&#123;mnum&#125;</span> 分 <span class="variable">$&#123;snum&#125;</span> 秒 &lt;/span&gt;&lt;i class=<span class="string">&#x27;anzhiyufont anzhiyu-icon-heartbeat&#x27;</span> style=<span class="string">&#x27;color:red&#x27;</span>&gt;&lt;/i&gt;`;</span><br><span class="line">    currentTimeHtml = `本站居然运行了 <span class="variable">$&#123;dnum&#125;</span> 天&lt;span <span class="built_in">id</span>=<span class="string">&#x27;runtime&#x27;</span>&gt; <span class="variable">$&#123;hnum&#125;</span> 小时 <span class="variable">$&#123;mnum&#125;</span> 分 <span class="variable">$&#123;snum&#125;</span> 秒 &lt;/span&gt;`;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    // 如果是下班时间，插入<span class="string">&quot;安知鱼-下班啦.svg&quot;</span>图片</span><br><span class="line">    <span class="built_in">let</span> img = document.querySelector(<span class="string">&quot;#workboard .workSituationImg&quot;</span>);</span><br><span class="line">    img.src = <span class="string">&quot;#&#123;offduty_img&#125;&quot;</span>;</span><br><span class="line">    img.title = <span class="string">&quot;#&#123;offduty_description&#125;&quot;</span>;</span><br><span class="line">    img.alt = <span class="string">&quot;#&#123;offduty_description&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    currentTimeHtml = `本站居然运行了 <span class="variable">$&#123;dnum&#125;</span> 天&lt;span <span class="built_in">id</span>=<span class="string">&#x27;runtime&#x27;</span>&gt; <span class="variable">$&#123;hnum&#125;</span> 小时 <span class="variable">$&#123;mnum&#125;</span> 分 <span class="variable">$&#123;snum&#125;</span> 秒 &lt;/span&gt;`;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // <span class="keyword">if</span> (document.getElementById(<span class="string">&quot;runtimeTextTip&quot;</span>)) &#123;</span><br><span class="line">  //   document.getElementById(<span class="string">&quot;runtimeTextTip&quot;</span>).innerHTML = currentTimeHtml;</span><br><span class="line">  // &#125;</span><br><span class="line">  <span class="keyword">if</span> (document.getElementById(<span class="string">&quot;runtimeTextFoot&quot;</span>)) &#123;</span><br><span class="line">    document.getElementById(<span class="string">&quot;runtimeTextFoot&quot;</span>).innerHTML = currentTimeHtml;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>新增底部样式<br>新增公共css，如果是第一次修改记得引入该css（升级跳过该步）</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">/*自定义页脚*/</span><br><span class="line"><span class="comment">#footer-banner &#123;</span></span><br><span class="line">    padding: 1rem;</span><br><span class="line">    margin-top: 1rem;</span><br><span class="line">    display: flex;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    z-index: 1002;</span><br><span class="line">    transition: .3s;</span><br><span class="line">    /*border-top: var(--style-border)*/</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#footer-banner .footer-banner-links &#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    max-width: 1400px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    align-items: center;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#footer-banner .footer-banner-left &#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    min-height: 32px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.footer-banner-right &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: row;</span><br><span class="line">    flex-wrap: wrap</span><br><span class="line">&#125;</span><br><span class="line">/*自定义页脚*/</span><br></pre></td></tr></table></figure>              </div>            </details></li></ol><h2 id="pwa配置"><a href="#pwa配置" class="headerlink" title="pwa配置"></a>pwa配置</h2><ol><li><p>图标存在[Blogroot]&#x2F;source&#x2F;img&#x2F;siteicon&#x2F;下（升级跳过该步）</p></li><li><p>迁移[Blogroot]&#x2F;source&#x2F;pwa&#x2F;manifest.json到新版本项目（升级跳过该步）</p></li><li><p>安装必要插件（升级跳过该步）</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --global gulp-cli <span class="comment"># 全局安装gulp命令集</span></span><br><span class="line">npm install workbox-build gulp --save <span class="comment"># 安装workbox和gulp插件</span></span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>迁移gulpfile.js到新版本项目根目录（升级跳过该步）</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">const gulp = require(<span class="string">&quot;gulp&quot;</span>);</span><br><span class="line">const workbox = require(<span class="string">&quot;workbox-build&quot;</span>);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">&#x27;generate-service-worker&#x27;</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">return</span> workbox.injectManifest(&#123;</span><br><span class="line">        swSrc: <span class="string">&#x27;./sw-template.js&#x27;</span>,</span><br><span class="line">        swDest: <span class="string">&#x27;./public/sw.js&#x27;</span>,</span><br><span class="line">        globDirectory: <span class="string">&#x27;./public&#x27;</span>,</span><br><span class="line">        globPatterns: [</span><br><span class="line">            // 缓存所有以下类型的文件，极端不推荐</span><br><span class="line">            // <span class="string">&quot;**/*.&#123;html,css,js,json,woff2,xml&#125;&quot;</span></span><br><span class="line">            // 推荐只缓存404，主页和主要样式和脚本。</span><br><span class="line">            <span class="string">&quot;404.html&quot;</span>,<span class="string">&quot;index.html&quot;</span>,<span class="string">&quot;js/main.js&quot;</span>,<span class="string">&quot;css/index.css&quot;</span></span><br><span class="line">        ],</span><br><span class="line">        modifyURLPrefix: &#123;</span><br><span class="line">            <span class="string">&quot;&quot;</span>: <span class="string">&quot;./&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">gulp.task(<span class="string">&quot;default&quot;</span>, gulp.series(<span class="string">&quot;generate-service-worker&quot;</span>));</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>迁移sw-template.js到新版本项目根目录（升级跳过该步）</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">const workboxVersion = <span class="string">&#x27;5.1.3&#x27;</span>;</span><br><span class="line"></span><br><span class="line">importScripts(`https://storage.googleapis.com/workbox-cdn/releases/<span class="variable">$&#123;workboxVersion&#125;</span>/workbox-sw.js`);</span><br><span class="line"></span><br><span class="line">workbox.core.setCacheNameDetails(&#123;</span><br><span class="line">    prefix: <span class="string">&quot;your name&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">workbox.core.skipWaiting();</span><br><span class="line"></span><br><span class="line">workbox.core.clientsClaim();</span><br><span class="line"></span><br><span class="line">// 注册成功后要立即缓存的资源列表</span><br><span class="line">// 具体缓存列表在gulpfile.js中配置，见下文</span><br><span class="line">workbox.precaching.precacheAndRoute(self.__WB_MANIFEST,&#123;</span><br><span class="line">    directoryIndex: null</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// 清空过期缓存</span><br><span class="line">workbox.precaching.cleanupOutdatedCaches();</span><br><span class="line"></span><br><span class="line">// 图片资源（可选，不需要就注释掉）</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">    /\.(?:png|jpg|jpeg|gif|bmp|webp|svg|ico)$/,</span><br><span class="line">    new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">        cacheName: <span class="string">&quot;images&quot;</span>,</span><br><span class="line">        plugins: [</span><br><span class="line">            new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">                maxEntries: 1000,</span><br><span class="line">                maxAgeSeconds: 60 * 60 * 24 * 30</span><br><span class="line">            &#125;),</span><br><span class="line">            new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">                statuses: [0, 200]</span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// 字体文件（可选，不需要就注释掉）</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">    /\.(?:eot|ttf|woff|woff2)$/,</span><br><span class="line">    new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">        cacheName: <span class="string">&quot;fonts&quot;</span>,</span><br><span class="line">        plugins: [</span><br><span class="line">            new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">                maxEntries: 1000,</span><br><span class="line">                maxAgeSeconds: 60 * 60 * 24 * 30</span><br><span class="line">            &#125;),</span><br><span class="line">            new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">                statuses: [0, 200]</span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// 谷歌字体（可选，不需要就注释掉）</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">    /^https:\/\/fonts\.googleapis\.com/,</span><br><span class="line">    new workbox.strategies.StaleWhileRevalidate(&#123;</span><br><span class="line">        cacheName: <span class="string">&quot;google-fonts-stylesheets&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">    /^https:\/\/fonts\.gstatic\.com/,</span><br><span class="line">    new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">        cacheName: <span class="string">&#x27;google-fonts-webfonts&#x27;</span>,</span><br><span class="line">        plugins: [</span><br><span class="line">            new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">                maxEntries: 1000,</span><br><span class="line">                maxAgeSeconds: 60 * 60 * 24 * 30</span><br><span class="line">            &#125;),</span><br><span class="line">            new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">                statuses: [0, 200]</span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// jsdelivr的CDN资源（可选，不需要就注释掉）</span><br><span class="line">workbox.routing.registerRoute(</span><br><span class="line">    /^https:\/\/cdn\.jsdelivr\.net/,</span><br><span class="line">    new workbox.strategies.CacheFirst(&#123;</span><br><span class="line">        cacheName: <span class="string">&quot;static-libs&quot;</span>,</span><br><span class="line">        plugins: [</span><br><span class="line">            new workbox.expiration.ExpirationPlugin(&#123;</span><br><span class="line">                maxEntries: 1000,</span><br><span class="line">                maxAgeSeconds: 60 * 60 * 24 * 30</span><br><span class="line">            &#125;),</span><br><span class="line">            new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span><br><span class="line">                statuses: [0, 200]</span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">workbox.googleAnalytics.initialize();</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>迁移pwanotice.pug<br>迁移[Blogroot]&#x2F;themes&#x2F;anzhiyu&#x2F;layout&#x2F;includes&#x2F;third-party&#x2F;pwanotice.pug到新版本项目</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#app-refresh.app-refresh(style=&#x27;position: fixed;top: -2.2rem;left: 0;right: 0;z-index: 99999;padding: 0 1rem;font-size: 15px;height: 2.2rem;transition: all 0.3s ease;&#x27;)</span></span><br><span class="line">    .app-refresh-wrap(style=<span class="string">&#x27; display: flex;color: #fff;height: 100%;align-items: center;justify-content: center;&#x27;</span>)</span><br><span class="line">        label ✨ 有新文章啦！ 👉</span><br><span class="line">        a(href=<span class="string">&#x27;javascript:void(0)&#x27;</span> onclick=<span class="string">&#x27;location.reload()&#x27;</span>)</span><br><span class="line">            span(style=<span class="string">&#x27;color: #fff;text-decoration: underline;cursor: pointer;&#x27;</span>) 🍗点击食用🍔</span><br><span class="line">script.</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&#x27;serviceWorker&#x27;</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">        <span class="keyword">if</span> (navigator.serviceWorker.controller) &#123;</span><br><span class="line">            navigator.serviceWorker.addEventListener(<span class="string">&#x27;controllerchange&#x27;</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">                showNotification()</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        window.addEventListener(<span class="string">&#x27;load&#x27;</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">            navigator.serviceWorker.register(<span class="string">&#x27;/sw.js&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">showNotification</span></span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (GLOBAL_CONFIG.Snackbar) &#123;</span><br><span class="line">            var snackbarBg =</span><br><span class="line">                document.documentElement.getAttribute(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;light&#x27;</span> ?</span><br><span class="line">                    GLOBAL_CONFIG.Snackbar.bgLight :</span><br><span class="line">                    GLOBAL_CONFIG.Snackbar.bgDark</span><br><span class="line">            var snackbarPos = GLOBAL_CONFIG.Snackbar.position</span><br><span class="line">            Snackbar.show(&#123;</span><br><span class="line">                text: <span class="string">&#x27;✨ 有新文章啦！ 👉&#x27;</span>,</span><br><span class="line">                backgroundColor: snackbarBg,</span><br><span class="line">                duration: 500000,</span><br><span class="line">                pos: snackbarPos,</span><br><span class="line">                actionText: <span class="string">&#x27;🍗点击食用🍔&#x27;</span>,</span><br><span class="line">                actionTextColor: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">                onActionClick: <span class="keyword">function</span>(e) &#123;</span><br><span class="line">                    location.reload()</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            var showBg =</span><br><span class="line">                document.documentElement.getAttribute(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;light&#x27;</span> ?</span><br><span class="line">                    <span class="string">&#x27;#3b70fc&#x27;</span> :</span><br><span class="line">                    <span class="string">&#x27;#1f1f1f&#x27;</span></span><br><span class="line">            var cssText = `top: 0; background: <span class="variable">$&#123;showBg&#125;</span>;`</span><br><span class="line">            document.getElementById(<span class="string">&#x27;app-refresh&#x27;</span>).style.cssText = cssText</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>修改additional-js.pug<br>打开[Blogroot]&#x2F;themes&#x2F;anzhiyu&#x2F;layout&#x2F;includes&#x2F;additional-js.pug，在底部新增代码</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> theme.pwa.enable</span><br><span class="line">  !=partial(<span class="string">&#x27;includes/third-party/pwanotice&#x27;</span>, &#123;&#125;, &#123;cache: theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>注释代码<br>打开[Blogroot]&#x2F;themes&#x2F;anzhiyu&#x2F;layout&#x2F;includes&#x2F;head&#x2F;pwa.pug，注释底部代码</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//script.</span><br><span class="line">//  <span class="keyword">if</span> (<span class="string">&#x27;serviceWorker&#x27;</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">//    <span class="keyword">if</span> (navigator.serviceWorker.controller) &#123;</span><br><span class="line">//      navigator.serviceWorker.addEventListener(<span class="string">&#x27;controllerchange&#x27;</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">//        location.reload()</span><br><span class="line">//      &#125;)</span><br><span class="line">//    &#125;</span><br><span class="line">//    window.addEventListener(<span class="string">&#x27;load&#x27;</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">//      navigator.serviceWorker.register(<span class="string">&#x27;/service-worker.js&#x27;</span>)</span><br><span class="line">//    &#125;)</span><br><span class="line">//  &#125;</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>打开pwa</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pwa:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  startup_image_enable: <span class="literal">true</span></span><br><span class="line">  manifest: /pwa/manifest.json</span><br><span class="line">  theme_color: var(--anzhiyu-main)</span><br><span class="line">  mask_icon: /img/siteicon/safari-pinned-tab.svg</span><br><span class="line">  apple_touch_icon: /img/siteicon/apple-touch-icon.png</span><br><span class="line">  bookmark_icon: /img/siteicon/apple-icon-180.png</span><br><span class="line">  favicon_32_32: /img/siteicon/favicon-32x32.png</span><br><span class="line">  favicon_16_16: /img/siteicon/favicon-16x16.png</span><br></pre></td></tr></table></figure>              </div>            </details></li></ol><h2 id="侧边栏欢迎小窗口"><a href="#侧边栏欢迎小窗口" class="headerlink" title="侧边栏欢迎小窗口"></a>侧边栏欢迎小窗口</h2><ol><li><p>新建[Blogroot]&#x2F;source&#x2F;js&#x2F;welcome.js（升级跳过该步）</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br></pre></td><td class="code"><pre><span class="line">//get请求，修改你的key和经纬度</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    <span class="built_in">type</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    url: <span class="string">&#x27;https://apis.map.qq.com/ws/location/v1/ip&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        key: <span class="string">&#x27;你申请的腾讯位置key&#x27;</span>,</span><br><span class="line">        output: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    dataType: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">    success: <span class="keyword">function</span> (res) &#123;</span><br><span class="line">        ipLocation = res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">function</span> getDistance(e1, n1, e2, n2) &#123;</span><br><span class="line">    const R = 6371</span><br><span class="line">    const &#123; sin, cos, asin, PI, hypot &#125; = Math</span><br><span class="line">    <span class="built_in">let</span> getPoint = (e, n) =&gt; &#123;</span><br><span class="line">        e *= PI / 180</span><br><span class="line">        n *= PI / 180</span><br><span class="line">        <span class="built_in">return</span> &#123; x: cos(n) * cos(e), y: cos(n) * sin(e), z: sin(n) &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">let</span> a = getPoint(e1, n1)</span><br><span class="line">    <span class="built_in">let</span> b = getPoint(e2, n2)</span><br><span class="line">    <span class="built_in">let</span> c = hypot(a.x - b.x, a.y - b.y, a.z - b.z)</span><br><span class="line">    <span class="built_in">let</span> r = asin(c / 2) * 2 * R</span><br><span class="line">    <span class="built_in">return</span> Math.round(r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">showWelcome</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">let</span> dist = getDistance(123.44972, 41.71482, ipLocation.result.location.lng, ipLocation.result.location.lat); //这里记得换成自己的经纬度</span><br><span class="line">    <span class="built_in">let</span> pos = ipLocation.result.ad_info.nation;</span><br><span class="line">    <span class="built_in">let</span> ip;</span><br><span class="line">    <span class="built_in">let</span> posdesc;</span><br><span class="line">    //根据国家、省份、城市信息自定义欢迎语</span><br><span class="line">    switch (ipLocation.result.ad_info.nation) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;日本&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;よろしく，一起去看樱花吗&quot;</span>;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;美国&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;Let us live in peace!&quot;</span>;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;英国&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;想同你一起夜乘伦敦眼&quot;</span>;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;俄罗斯&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;干了这瓶伏特加！&quot;</span>;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;法国&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;C&#x27;est La Vie&quot;</span>;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;德国&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;Die Zeit verging im Fluge.&quot;</span>;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;澳大利亚&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;一起去大堡礁吧！&quot;</span>;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;加拿大&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;拾起一片枫叶赠予你&quot;</span>;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;中国&quot;</span>:</span><br><span class="line">            pos = ipLocation.result.ad_info.province + <span class="string">&quot; &quot;</span> + ipLocation.result.ad_info.city + <span class="string">&quot; &quot;</span> + ipLocation.result.ad_info.district;</span><br><span class="line">            ip = ipLocation.result.ip;</span><br><span class="line">            switch (ipLocation.result.ad_info.province) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;北京市&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;北——京——欢迎你~~~&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;天津市&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;讲段相声吧&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;河北省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;山势巍巍成壁垒，天下雄关铁马金戈由此向，无限江山&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;山西省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;展开坐具长三尺，已占山河五百余&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;内蒙古自治区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;天苍苍，野茫茫，风吹草低见牛羊&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;辽宁省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;我想吃烤鸡架！&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;吉林省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;状元阁就是东北烧烤之王&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;黑龙江省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;很喜欢哈尔滨大剧院&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;上海市&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;众所周知，中国只有两个城市&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;江苏省&quot;</span>:</span><br><span class="line">                    switch (ipLocation.result.ad_info.city) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;南京市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;这是我挺想去的城市啦&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;苏州市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;上有天堂，下有苏杭&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        default:</span><br><span class="line">                            posdesc = <span class="string">&quot;散装是必须要散装的&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;浙江省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;东风渐绿西湖柳，雁已还人未南归&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;河南省&quot;</span>:</span><br><span class="line">                    switch (ipLocation.result.ad_info.city) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;郑州市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;豫州之域，天地之中&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;南阳市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;臣本布衣，躬耕于南阳此南阳非彼南阳！&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;驻马店市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;峰峰有奇石，石石挟仙气嵖岈山的花很美哦！&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;开封市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;刚正不阿包青天&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;洛阳市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;洛阳牡丹甲天下&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        default:</span><br><span class="line">                            posdesc = <span class="string">&quot;可否带我品尝河南烩面啦？&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;安徽省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;蚌埠住了，芜湖起飞&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;福建省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;井邑白云间，岩城远带山&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;江西省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;落霞与孤鹜齐飞，秋水共长天一色&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;山东省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;遥望齐州九点烟，一泓海水杯中泻&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;湖北省&quot;</span>:</span><br><span class="line">                    switch (ipLocation.result.ad_info.city) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;黄冈市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;红安将军县！辈出将才！&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        default:</span><br><span class="line">                            posdesc = <span class="string">&quot;来碗热干面~&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;湖南省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;74751，长沙斯塔克&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;广东省&quot;</span>:</span><br><span class="line">                    switch (ipLocation.result.ad_info.city) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;广州市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;看小蛮腰，喝早茶了嘛~&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;深圳市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;今天你逛商场了嘛~&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;阳江市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;阳春合水！博主家乡~ 欢迎来玩~&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        default:</span><br><span class="line">                            posdesc = <span class="string">&quot;来两斤福建人~&quot;</span>;</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;广西壮族自治区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;桂林山水甲天下&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;海南省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;朝观日出逐白浪，夕看云起收霞光&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;四川省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;康康川妹子&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;贵州省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;茅台，学生，再塞200&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;云南省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;玉龙飞舞云缠绕，万仞冰川直耸天&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;西藏自治区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;躺在茫茫草原上，仰望蓝天&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;陕西省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;来份臊子面加馍&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;甘肃省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;羌笛何须怨杨柳，春风不度玉门关&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;青海省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;牛肉干和老酸奶都好好吃&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;宁夏回族自治区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;大漠孤烟直，长河落日圆&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;新疆维吾尔自治区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;驼铃古道丝绸路，胡马犹闻唐汉风&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;台湾省&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;我在这头，大陆在那头&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;香港特别行政区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;永定贼有残留地鬼嚎，迎击光非岁玉&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;澳门特别行政区&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;性感荷官，在线发牌&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                default:</span><br><span class="line">                    posdesc = <span class="string">&quot;带我去你的城市逛逛吧！&quot;</span>;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        default:</span><br><span class="line">            posdesc = <span class="string">&quot;带我去你的国家逛逛吧&quot;</span>;</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //根据本地时间切换欢迎语</span><br><span class="line">    <span class="built_in">let</span> timeChange;</span><br><span class="line">    <span class="built_in">let</span> <span class="built_in">date</span> = new Date();</span><br><span class="line">    <span class="keyword">if</span> (date.getHours() &gt;= 5 &amp;&amp; date.getHours() &lt; 11) timeChange = <span class="string">&quot;&lt;span&gt;🌤️ 早上好，一日之计在于晨&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.getHours() &gt;= 11 &amp;&amp; date.getHours() &lt; 13) timeChange = <span class="string">&quot;&lt;span&gt;☀️ 中午好，记得午休喔~&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.getHours() &gt;= 13 &amp;&amp; date.getHours() &lt; 17) timeChange = <span class="string">&quot;&lt;span&gt;🕞 下午好，饮茶先啦！&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.getHours() &gt;= 17 &amp;&amp; date.getHours() &lt; 19) timeChange = <span class="string">&quot;&lt;span&gt;🚶‍♂️ 即将下班，记得按时吃饭~&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.getHours() &gt;= 19 &amp;&amp; date.getHours() &lt; 24) timeChange = <span class="string">&quot;&lt;span&gt;🌙 晚上好，夜生活嗨起来！&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> timeChange = <span class="string">&quot;夜深了，早点休息，少熬夜&quot;</span>;</span><br><span class="line"></span><br><span class="line">    try &#123;</span><br><span class="line">        //自定义文本和需要放的位置</span><br><span class="line">        document.getElementById(<span class="string">&quot;welcome-info&quot;</span>).innerHTML =</span><br><span class="line">            `欢迎来自 &lt;b&gt;&lt;span style=<span class="string">&quot;color: var(--kouseki-ip-color);font-size: var(--kouseki-gl-size)&quot;</span>&gt;<span class="variable">$&#123;pos&#125;</span>&lt;/span&gt;&lt;/b&gt; 的小友💖&lt;br&gt;<span class="variable">$&#123;posdesc&#125;</span>🍂&lt;br&gt;当前位置距博主约 &lt;b&gt;&lt;span style=<span class="string">&quot;color: var(--kouseki-ip-color)&quot;</span>&gt;<span class="variable">$&#123;dist&#125;</span>&lt;/span&gt;&lt;/b&gt; 公里！&lt;br&gt;您的IP地址为：&lt;b&gt;&lt;span&gt;<span class="variable">$&#123;ip&#125;</span>&lt;/span&gt;&lt;/b&gt;&lt;br&gt;<span class="variable">$&#123;timeChange&#125;</span> &lt;br&gt;`;</span><br><span class="line">    &#125; catch (err) &#123;</span><br><span class="line">        console.log(<span class="string">&quot;Pjax无法获取元素&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">window.onload = showWelcome;</span><br><span class="line">// 如果使用了pjax在加上下面这行代码</span><br><span class="line">document.addEventListener(<span class="string">&#x27;pjax:complete&#x27;</span>, showWelcome);</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>引入公共css（升级跳过该步）</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/* 欢迎信息 */</span><br><span class="line"><span class="comment">#welcome-info &#123;</span></span><br><span class="line">    overflow: hidden;</span><br><span class="line">    border-radius: 14px;</span><br><span class="line">    --kouseki-welcome-color: <span class="comment">#49B1F5;</span></span><br><span class="line">    --kouseki-ip-color: <span class="comment">#49B1F5;</span></span><br><span class="line">    --kouseki-gl-size: 16px!important;</span><br><span class="line">&#125;</span><br><span class="line">/* 欢迎信息 */</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>引入jquery和欢迎js（升级跳过该步）</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bottom:</span><br><span class="line">  - &lt;script src=<span class="string">&quot;https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js&quot;</span>&gt;&lt;/script&gt; <span class="comment"># jQuery</span></span><br><span class="line">  - &lt;script async data-pjax src=<span class="string">&quot;/js/welcome.js&quot;</span>&gt;&lt;/script&gt; <span class="comment"># 腾讯位置API</span></span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>放入侧边栏公告栏位置<br>打开[Blogroot]&#x2F;_config.anzhiyu.yml，修改以下代码</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">card_announcement:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  content: &lt;div <span class="built_in">id</span>=<span class="string">&quot;welcome-info&quot;</span>&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>              </div>            </details></li></ol><h2 id="我的装备新增价格显示"><a href="#我的装备新增价格显示" class="headerlink" title="我的装备新增价格显示"></a>我的装备新增价格显示</h2><ol><li><p>创建pug页面文件<br>打开[Blogroot]&#x2F;themes&#x2F;anzhiyu&#x2F;layout&#x2F;includes&#x2F;page&#x2F;equipment.pug，新增以下代码</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.equipment-item-content-item</span><br><span class="line">  .equipment-item-content-item-cover</span><br><span class="line">    div.equipment-item-content-item-price=iten.price</span><br><span class="line">    img.equipment-item-content-item-image(data-lazy-src=url_for(iten.image) onerror=`this.onerror=null;this.src=<span class="string">&#x27;` + url_for(theme.error_img.flink) + `&#x27;</span>` alt=iten.name)</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>引入公共css（升级跳过该步）</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.equipment-item-content-item-price &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    right: 10px;</span><br><span class="line">    top: 10px;</span><br><span class="line">    color: red;</span><br><span class="line">    font-size: 14px;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details></li></ol><h2 id="关于页添加个性小标签"><a href="#关于页添加个性小标签" class="headerlink" title="关于页添加个性小标签"></a>关于页添加个性小标签</h2><ol><li><p>修改about.pug<br>打开[Blogroot]&#x2F;themes&#x2F;anzhiyu&#x2F;layout&#x2F;includes&#x2F;page&#x2F;about.pug，在以下位置新增代码</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#about-page</span></span><br><span class="line">  .author-box</span><br><span class="line">    .author-img</span><br><span class="line">      img.no-lightbox(src=url_for(avatarImg) onerror=`this.onerror=null;this.src=<span class="string">&#x27;` + url_for(theme.error_img.flink) + `&#x27;</span>` alt=<span class="string">&quot;avatar&quot;</span>)</span><br><span class="line">    .image-dot</span><br><span class="line">    .author-tag-left</span><br><span class="line">      span.author-tag 🤖️ 数码爱好者</span><br><span class="line">      span.author-tag 🔍 不解决不放弃</span><br><span class="line">      span.author-tag 🏠 智能家居小能手</span><br><span class="line">      span.author-tag 🔨 开发小萌新</span><br><span class="line">    .author-tag-right</span><br><span class="line">      span.author-tag 折腾劲 MAX 🤝</span><br><span class="line">      span.author-tag 脚踏实地行动派 🏃</span><br><span class="line">      span.author-tag 践踏各种困难 🧱</span><br><span class="line">      span.author-tag 话多人不狠 💢</span><br><span class="line">  p.p.center.logo.large 关于我</span><br><span class="line">  p.p.center.small=subtitle</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>引入公共css（升级跳过该步）</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">@keyframes floating &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        transform: translate(0, -4px);</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line">        transform: translate(0, 4px);</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        transform: translate(0, -4px);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#about-page .author-box &#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    align-items: center;</span><br><span class="line">    height: 185px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#about-page .author-tag-left &#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    align-items: flex-end;</span><br><span class="line">    margin-right: 355px; /* 设置标签与头像之间的水平间距 */</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 15px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#about-page .author-tag-right &#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    align-items: flex-start;</span><br><span class="line">    margin-left: 355px; /* 设置标签与头像之间的水平间距 */</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 15px;</span><br><span class="line">&#125;</span><br><span class="line">/* 移动端隐藏 */</span><br><span class="line">@media screen and (max-width: 768px) &#123;</span><br><span class="line">    <span class="comment">#about-page .author-tag-left, #about-page .author-tag-right &#123;</span></span><br><span class="line">        display: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#about-page .author-tag-left .author-tag:first-child, #about-page .author-tag-left .author-tag:last-child &#123;</span></span><br><span class="line">    margin-right: -16px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#about-page .author-tag-right .author-tag:first-child, #about-page .author-tag-right .author-tag:last-child &#123;</span></span><br><span class="line">    margin-left: -16px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#about-page .author-tag &#123;</span></span><br><span class="line">    transform: translate(0, -4px);</span><br><span class="line">    padding: 1px 8px;</span><br><span class="line">    background: <span class="comment">#fff;</span></span><br><span class="line">    border: 1px solid <span class="comment">#e3e8f7;</span></span><br><span class="line">    border-radius: 40px;</span><br><span class="line">    margin-top: 6px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    box-shadow: 0 5px 12px -5px rgba(102, 68, 68, 0.00);</span><br><span class="line">    animation: 4s ease-in-out 0s infinite normal none running floating;</span><br><span class="line">&#125;</span><br><span class="line">/* 适配深色模式 */</span><br><span class="line">[data-theme=<span class="string">&quot;dark&quot;</span>] <span class="comment">#about-page .author-tag &#123;</span></span><br><span class="line">    background: <span class="comment">#1e1e1e;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#about-page .author-tag:nth-child(1) &#123;</span></span><br><span class="line">    animation-delay: 0s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#about-page .author-tag:nth-child(2) &#123;</span></span><br><span class="line">    animation-delay: 0.6s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#about-page .author-tag:nth-child(3) &#123;</span></span><br><span class="line">    animation-delay: 1.2s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#about-page .author-tag:nth-child(4) &#123;</span></span><br><span class="line">    animation-delay: 1.8s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details></li></ol><p>More info: </p><ul><li><a href="https://blog.kouseki.cn/posts/1bed.html">在关于页添加属于你的个性小标签</a></li></ul><h2 id="主页文章卡片添加擦亮动画效果"><a href="#主页文章卡片添加擦亮动画效果" class="headerlink" title="主页文章卡片添加擦亮动画效果"></a>主页文章卡片添加擦亮动画效果</h2><ol><li>引入公共css（升级跳过该步）<details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#recent-posts &gt; .recent-post-item:not(a)::before &#123;</span></span><br><span class="line">    content: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 200%;</span><br><span class="line">    background: linear-gradient(to right, transparent, white, transparent);</span><br><span class="line">    transform: translateX(-200%);</span><br><span class="line">    transition: transform 0.5s linear;</span><br><span class="line">    z-index: 1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#recent-posts &gt; .recent-post-item:not(a):hover::before &#123;</span></span><br><span class="line">    transform: translateX(100%) skewX(-60deg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details></li></ol><p>More info: </p><ul><li><a href="https://blog.kouseki.cn/posts/dda6.html">为主页文章卡片添加擦亮动画效果</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
            <tag> 魔改 </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>返回上一页传递数据的多种方式</title>
      <link href="/posts/28bf5491.html"/>
      <url>/posts/28bf5491.html</url>
      
        <content type="html"><![CDATA[<h2 id="获取上一页页面实例调用"><a href="#获取上一页页面实例调用" class="headerlink" title="获取上一页页面实例调用"></a>获取上一页页面实例调用</h2><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#上一页页面</span></span><br><span class="line">methos: &#123;</span><br><span class="line">    getTimeInfo(timeInfo) &#123;</span><br><span class="line">        console.log(timeInfo) <span class="comment">#拿到数据</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">#当前页面</span></span><br><span class="line"><span class="built_in">let</span> pages = getCurrentPages();</span><br><span class="line"><span class="built_in">let</span> prevPage = pages[pages.length - 2]; <span class="comment">#上一页页面实例</span></span><br><span class="line">prevPage.<span class="variable">$vm</span>.getTimeInfo(this.timeInfo); <span class="comment">#调用上一页面方法并传参</span></span><br><span class="line">uni.navigateBack(&#123; <span class="comment">#返回</span></span><br><span class="line">    delta:1</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="使用uni-on与uni-emit"><a href="#使用uni-on与uni-emit" class="headerlink" title="使用uni.$on与uni.$emit"></a>使用uni.$on与uni.$emit</h2><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#上一页页面</span></span><br><span class="line">uni.<span class="variable">$on</span>(<span class="string">&#x27;update&#x27;</span>,<span class="keyword">function</span>(data)&#123;</span><br><span class="line">    console.log(<span class="string">&#x27;监听到事件来自 update ，携带参数 msg 为：&#x27;</span> + data.msg);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">uni.<span class="variable">$once</span>(<span class="string">&#x27;update&#x27;</span>,<span class="keyword">function</span>(data)&#123; <span class="comment">#如需要只触发一次</span></span><br><span class="line">    console.log(<span class="string">&#x27;监听到事件来自 update ，携带参数 msg 为：&#x27;</span> + data.msg);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">#当前页面</span></span><br><span class="line">uni.<span class="variable">$emit</span>(<span class="string">&#x27;update&#x27;</span>,&#123;msg:<span class="string">&#x27;页面更新&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">uni.<span class="variable">$off</span>(<span class="string">&#x27;update&#x27;</span>) <span class="comment">#移除事件监听</span></span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="使用全局变量"><a href="#使用全局变量" class="headerlink" title="使用全局变量"></a>使用全局变量</h2><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#通过globaldata赋值和取值</span></span><br><span class="line">const app = getApp()</span><br><span class="line">app.globalData.timeInfo = this.timeInfo</span><br><span class="line">this.timeInfo = app.globalData.timeInfo</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="使用vuex"><a href="#使用vuex" class="headerlink" title="使用vuex"></a>使用vuex</h2><p>此处略过</p>]]></content>
      
      
      <categories>
          
          <category> uniapp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 传参 </tag>
            
            <tag> 跳转 </tag>
            
            <tag> uniapp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>百度统计项目部署记录</title>
      <link href="/posts/8bd8601.html"/>
      <url>/posts/8bd8601.html</url>
      
        <content type="html"><![CDATA[<h2 id="编写run-py文件"><a href="#编写run-py文件" class="headerlink" title="编写run.py文件"></a>编写run.py文件</h2><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=UTF-8（等号换为”:“也可以）</span></span><br><span class="line">import requests</span><br><span class="line">import time, datetime</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开始统计的日期</span></span><br><span class="line">start_date   = <span class="string">&#x27;20230520&#x27;</span></span><br><span class="line"><span class="built_in">date</span>         = datetime.datetime.now()</span><br><span class="line"><span class="comment"># 结束统计的日期</span></span><br><span class="line">end_date     = str(date.year) + (str(date.month) <span class="keyword">if</span> date.month &gt; 9 <span class="keyword">else</span> (<span class="string">&#x27;0&#x27;</span> + str(date.month))) + (str(date.day) <span class="keyword">if</span> date.day &gt; 9 <span class="keyword">else</span> (<span class="string">&#x27;0&#x27;</span> + str(date.day)))</span><br><span class="line"><span class="comment"># token和siteid</span></span><br><span class="line">access_token = <span class="string">&#x27;121.xxx&#x27;</span></span><br><span class="line">site_id      = <span class="string">&#x27;191xxx&#x27;</span></span><br><span class="line"><span class="comment"># 百度统计API</span></span><br><span class="line">dataUrl      = <span class="string">&#x27;https://openapi.baidu.com/rest/2.0/tongji/report/getData?access_token=&#x27;</span> + access_token + <span class="string">&#x27;&amp;site_id=&#x27;</span> + site_id</span><br><span class="line"><span class="comment"># 统计访问次数 PV 填写 &#x27;pv_count&#x27;，统计访客数 UV 填写 &#x27;visitor_count&#x27;，二选一</span></span><br><span class="line">metrics      = <span class="string">&#x27;pv_count&#x27;</span></span><br><span class="line">config = json.load(open(<span class="string">&#x27;./token.json&#x27;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def downFile(url, fileName, prefix=<span class="string">&#x27;./&#x27;</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;downloading :&#x27;</span>, url)</span><br><span class="line">    res = requests.get(url)</span><br><span class="line">    res = json.loads(res.content)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="string">&#x27;error_code&#x27;</span> <span class="keyword">in</span> res.keys()):</span><br><span class="line">        update(prefix=prefix)</span><br><span class="line">        downFile(url, fileName, prefix)</span><br><span class="line">    with open(prefix+fileName, <span class="string">&#x27;w&#x27;</span>) as f:</span><br><span class="line">        json.dump(res, f)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;writing :&#x27;</span>, prefix+fileName)</span><br><span class="line">    </span><br><span class="line">def update(prefix, url=<span class="string">&#x27;http://openapi.baidu.com/oauth/2.0/token?grant_type=refresh_token&amp;refresh_token=&#x27;</span> + config[<span class="string">&#x27;refresh&#x27;</span>] + <span class="string">&#x27;&amp;client_id=&#x27;</span> + config[<span class="string">&#x27;api_key&#x27;</span>] + <span class="string">&#x27;&amp;client_secret=&#x27;</span> + config[<span class="string">&#x27;serect_key&#x27;</span>]):</span><br><span class="line">    res = requests.get(url)</span><br><span class="line">    res = json.loads(res.content)</span><br><span class="line">    <span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line">    config[<span class="string">&#x27;access&#x27;</span>]  = res[<span class="string">&#x27;access_token&#x27;</span>]</span><br><span class="line">    config[<span class="string">&#x27;refresh&#x27;</span>] = res[<span class="string">&#x27;refresh_token&#x27;</span>]</span><br><span class="line">    with open(prefix + <span class="string">&#x27;token.json&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) as f:</span><br><span class="line">        json.dump(config, f)    </span><br><span class="line"></span><br><span class="line"><span class="comment"># 访客地图</span></span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;method=visit/district/a&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;map.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问趋势</span></span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;method=trend/time/a&amp;gran=month&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;trends.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问来源</span></span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;method=source/all/a&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;sources.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 搜索引擎</span></span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;method=source/engine/a&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;engine.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 外部链接</span></span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;method=source/link/a&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;link.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问日历</span></span><br><span class="line"><span class="string">&#x27;&#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">访问日历需要获取一年内的数据，按照一年365天计算，大概为52周多一点，所以前面有完整的52排，获取方式只要通过开始日期年份-1即可</span></span><br><span class="line"><span class="string">然后就是第53排的处理，python中的date.weekday()获取的星期几是0对应周一，所以通过(date.weekday()+1)%7即可转换到0对应周日</span></span><br><span class="line"><span class="string">于是在52周的基础上，减去星期数，就可以得到新的start_date</span></span><br><span class="line"><span class="string">&#x27;</span><span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">date</span>       = datetime.datetime(date.year-1, date.month, date.day)</span><br><span class="line"><span class="built_in">date</span>       = datetime.datetime.fromtimestamp(date.timestamp()-3600*24*((date.weekday()+<span class="number">1</span>)%<span class="number">7</span>))</span><br><span class="line">start_date = str(date.year) + (str(date.month) <span class="keyword">if</span> date.month &gt; 9 <span class="keyword">else</span> (<span class="string">&#x27;0&#x27;</span> + str(date.month))) + (str(date.day) <span class="keyword">if</span> date.day &gt; 9 <span class="keyword">else</span> (<span class="string">&#x27;0&#x27;</span> + str(date.day)))</span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;method=overview/getTimeTrendRpt&#x27;</span> + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date,</span><br><span class="line">    <span class="string">&#x27;calendar.json&#x27;</span>)</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="运行run-py"><a href="#运行run-py" class="headerlink" title="运行run.py"></a>运行run.py</h2><ol><li><p>把run.py放到服务器目录下</p></li><li><p>新建token.json用于保存需要的密钥信息</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;access&quot;</span>: <span class="string">&quot;121.xxx&quot;</span>,    //百度统计ACCESS_TOKEN</span><br><span class="line">    <span class="string">&quot;refresh&quot;</span>: <span class="string">&quot;122.xxx&quot;</span>,   //百度统计REFRESH_TOKEN</span><br><span class="line">    <span class="string">&quot;site_id&quot;</span>: <span class="string">&quot;191xxx&quot;</span>,    //百度统计网站<span class="built_in">id</span></span><br><span class="line">    <span class="string">&quot;api_key&quot;</span>: <span class="string">&quot;3rHxxx&quot;</span>,    //百度统计API Key</span><br><span class="line">    <span class="string">&quot;serect_key&quot;</span>: <span class="string">&quot;ELIxxx&quot;</span>  //百度统计Secret Key</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>运行run.py</p><details class="folding-tag" green><summary> 查看代码测试 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 run.py</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>运行之后自动生成若干个json文件用于储存百度统计数据</p></li></ol><h2 id="新建定时任务"><a href="#新建定时任务" class="headerlink" title="新建定时任务"></a>新建定时任务</h2><ol><li><p>我用的是宝塔，在计划任务里面新增shell脚本</p></li><li><p>填好任务名称、执行周期</p></li><li><p>编写脚本内容，保存后执行一次看是否成功</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /www/wwwroot/baidu_tongji</span><br><span class="line">python3 run.py</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>cron额外命令</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//CentOS6上的cron命令</span><br><span class="line">service crond start //启动服务</span><br><span class="line">service crond stop //关闭服务</span><br><span class="line">service crond restart //重启服务</span><br><span class="line">service crond reload //重新载入配置</span><br><span class="line">service crond status  //查看状态</span><br><span class="line">//CentOS7上的cron命令</span><br><span class="line">systemctl start crond.service  //启动服务</span><br><span class="line">systemctl stop crond.service  //关闭服务</span><br><span class="line">systemctl restart crond.service  //重启服务</span><br><span class="line">systemctl reload crond.service  //重新载入配置</span><br><span class="line">systemctl status crond.service   //查看状态</span><br></pre></td></tr></table></figure>              </div>            </details></li></ol><h2 id="站点跨域配置"><a href="#站点跨域配置" class="headerlink" title="站点跨域配置"></a>站点跨域配置</h2><p>打开站点设置配置伪静态</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//localhost:4000是为了博客本地调试</span><br><span class="line">location / &#123;  </span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$http_origin</span> ~* (http://localhost:4000|https://你的域名.com)) &#123;</span><br><span class="line">      add_header Access-Control-Allow-Origin <span class="string">&#x27;$http_origin&#x27;</span>;</span><br><span class="line">      add_header Access-Control-Allow-Methods <span class="string">&#x27;GET, POST, OPTIONS&#x27;</span>;</span><br><span class="line">      add_header Access-Control-Allow-Headers <span class="string">&#x27;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$request_method</span> = <span class="string">&#x27;OPTIONS&#x27;</span>) &#123;</span><br><span class="line">      <span class="built_in">return</span> 204;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ol><li><a href="https://blog.eurkon.com/post/1a169b5a.html?highlight=%E5%8D%9A%E5%AE%A2%E8%AE%BF%E9%97%AE%E6%97%A5%E5%8E%86">Hexo 博客访问日历图</a></li><li><a href="https://foolishfox.cn/posts/202105-visit.html">博客成长日志 | 准实时访问统计</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 后端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 后端 </tag>
            
            <tag> 部署 </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>颜色滑动选择弹窗</title>
      <link href="/posts/b49df70f.html"/>
      <url>/posts/b49df70f.html</url>
      
        <content type="html"><![CDATA[<h2 id="效果预览"><a href="#效果预览" class="headerlink" title="效果预览"></a>效果预览</h2><div class="img-wrap"><div class="img-bg"><img class="img" src="https://document.cuixinyu.com/img/posts/%E9%A2%9C%E8%89%B2%E6%BB%91%E5%8A%A8%E9%80%89%E6%8B%A9%E5%BC%B9%E7%AA%97.png" alt="滑动选择"/></div><span class="image-caption">滑动选择</span></div><h2 id="引入资源"><a href="#引入资源" class="headerlink" title="引入资源"></a>引入资源</h2><ol><li>本弹窗是基于ui框架<a href="https://www.uviewui.com/"><font color="blue">uview</font></a></li><li>右上角切到2.X的文档，引入过程此处忽略，根据文档即可</li></ol><h2 id="具体实现代码"><a href="#具体实现代码" class="headerlink" title="具体实现代码"></a>具体实现代码</h2><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;view class=<span class="string">&quot;main&quot;</span>&gt;</span><br><span class="line">&lt;view style=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span><br><span class="line">&lt;button @click=<span class="string">&quot;carColorShow = true&quot;</span>&gt;出现&lt;/button&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;u-popup :customStyle=<span class="string">&quot;&#123;borderRadius: &#x27;32rpx 32rpx 0rpx 0rpx&#x27;&#125;&quot;</span> :show=<span class="string">&quot;carColorShow&quot;</span>&gt;</span><br><span class="line">&lt;view class=<span class="string">&quot;pop&quot;</span>&gt;</span><br><span class="line">&lt;view class=<span class="string">&quot;pop_title&quot;</span>&gt;颜色选择&lt;/view&gt;</span><br><span class="line">&lt;view class=<span class="string">&quot;pop_del&quot;</span> @click.stop=<span class="string">&quot;carColorShow = false&quot;</span>&gt;</span><br><span class="line">&lt;image class=<span class="string">&quot;pop_del_img&quot;</span> src=<span class="string">&quot;/static/cw/img/addCar_del.png&quot;</span> mode=<span class="string">&quot;widthFix&quot;</span>&gt;&lt;/image&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;view class=<span class="string">&quot;pop_scroll&quot;</span>&gt;</span><br><span class="line">&lt;u-scroll-list :indicator=<span class="string">&quot;false&quot;</span>&gt;</span><br><span class="line">&lt;view class=<span class="string">&quot;pop_scroll_main&quot;</span> v-for=<span class="string">&quot;(item, index) in colorList&quot;</span> :key=<span class="string">&quot;index&quot;</span>&gt;</span><br><span class="line">&lt;view class=<span class="string">&quot;pop_scroll_main_item&quot;</span> :style=<span class="string">&quot;&#123;marginLeft: index === 0 ? &#x27;23.1rpx&#x27; : &#x27;&#x27;&#125;&quot;</span>&gt;</span><br><span class="line">&lt;view class=<span class="string">&quot;pop_scroll_main_item_out&quot;</span> :style=<span class="string">&quot;&#123;border: carColorPop === item.name ? &#x27;3rpx solid #FF3A3A&#x27; : &#x27;3rpx solid #FFFFFF&#x27;&#125;&quot;</span> @click=<span class="string">&quot;selectCarColor(item)&quot;</span>&gt;</span><br><span class="line">&lt;view class=<span class="string">&quot;pop_scroll_main_item_in&quot;</span> :style=<span class="string">&quot;&#123;background: item.background, boxShadow: item.boxShadow&#125;&quot;</span>&gt;&lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;view class=<span class="string">&quot;pop_scroll_main_item_name&quot;</span>&gt;&#123;&#123;item.name&#125;&#125;&lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/u-scroll-list&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;view class=<span class="string">&quot;pop_box&quot;</span>&gt;</span><br><span class="line">&lt;input class=<span class="string">&quot;pop_box_input&quot;</span> placeholder-class=<span class="string">&quot;pop_box_placeholder&quot;</span> <span class="built_in">type</span>=<span class="string">&quot;text&quot;</span> @input=<span class="string">&quot;carColorInputWatch&quot;</span> v-model=<span class="string">&quot;carColorInputPop&quot;</span> :maxlength=<span class="string">&quot;6&quot;</span> placeholder=<span class="string">&quot;其他颜色&quot;</span> /&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;button class=<span class="string">&quot;pop_button&quot;</span> @click=<span class="string">&quot;carColorSave&quot;</span>&gt;确定&lt;/button&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/u-popup&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">export</span> default &#123;</span><br><span class="line"><span class="function"><span class="title">data</span></span>() &#123;</span><br><span class="line"><span class="built_in">return</span> &#123;</span><br><span class="line">carColorShow: <span class="literal">false</span>, </span><br><span class="line">carColorPop: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">carColorInputPop: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">colorList: [</span><br><span class="line">&#123;</span><br><span class="line">background: <span class="string">&#x27;linear-gradient(138deg, #2F2F32 0%, #060C0C 100%)&#x27;</span>,</span><br><span class="line">boxShadow: <span class="string">&#x27;0px 2px 14px 0px rgba(0,0,0,0.3)&#x27;</span>,</span><br><span class="line">name: <span class="string">&#x27;黑色&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">background: <span class="string">&#x27;linear-gradient(137deg, #FBFBFB 0%, #DFDFE3 100%)&#x27;</span>,</span><br><span class="line">boxShadow: <span class="string">&#x27;0px 2px 14px 0px rgba(0,0,0,0.18)&#x27;</span>,</span><br><span class="line">name: <span class="string">&#x27;白色&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">background: <span class="string">&#x27;linear-gradient(137deg, #989898 0%, #5C5C5C 100%)&#x27;</span>,</span><br><span class="line">boxShadow: <span class="string">&#x27;0px 2px 14px 0px rgba(0,0,0,0.3)&#x27;</span>,</span><br><span class="line">name: <span class="string">&#x27;灰色&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">background: <span class="string">&#x27;linear-gradient(145deg, #EFEFEF 0%, #D2D4D6 100%)&#x27;</span>,</span><br><span class="line">boxShadow: <span class="string">&#x27;0px 2px 14px 0px rgba(0,0,0,0.3)&#x27;</span>,</span><br><span class="line">name: <span class="string">&#x27;银色&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">background: <span class="string">&#x27;linear-gradient(317deg, #976F56 0%, #B28972 100%)&#x27;</span>,</span><br><span class="line">boxShadow: <span class="string">&#x27;0px 2px 14px 0px rgba(0,0,0,0.3)&#x27;</span>,</span><br><span class="line">name: <span class="string">&#x27;棕色&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">background: <span class="string">&#x27;linear-gradient(325deg, #C42A2C 0%, #E43333 100%)&#x27;</span>,</span><br><span class="line">boxShadow: <span class="string">&#x27;0px 2px 14px 0px rgba(0,0,0,0.3)&#x27;</span>,</span><br><span class="line">name: <span class="string">&#x27;红色&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">background: <span class="string">&#x27;linear-gradient(328deg, #417BA9 0%, #4188B1 100%)&#x27;</span>,</span><br><span class="line">boxShadow: <span class="string">&#x27;0px 2px 14px 0px rgba(0,0,0,0.3)&#x27;</span>,</span><br><span class="line">name: <span class="string">&#x27;蓝色&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">background: <span class="string">&#x27;linear-gradient(325deg, #F4B434 0%, #FFCF38 100%)&#x27;</span>,</span><br><span class="line">boxShadow: <span class="string">&#x27;0px 2px 14px 0px rgba(0,0,0,0.3)&#x27;</span>,</span><br><span class="line">name: <span class="string">&#x27;黄色&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">],</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">selectCarColor(item) &#123;</span><br><span class="line">this.carColorPop = item.name</span><br><span class="line">this.carColorInputPop = <span class="string">&#x27;&#x27;</span></span><br><span class="line">uni.vibrateShort(&#123;&#125;);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">carColorInputWatch</span></span>() &#123;</span><br><span class="line">this.carColorPop = <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">carColorSave</span></span>() &#123;</span><br><span class="line">this.carColorShow = <span class="literal">false</span> </span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=<span class="string">&quot;scss&quot;</span>&gt;</span><br><span class="line">/* 解决小程序和app滚动条的问题 */</span><br><span class="line">/* <span class="comment">#ifdef MP-WEIXIN || APP-PLUS */</span></span><br><span class="line">::-webkit-scrollbar &#123;</span><br><span class="line">display: none;</span><br><span class="line">width: 0 !important;</span><br><span class="line">height: 0 !important;</span><br><span class="line">-webkit-appearance: none;</span><br><span class="line">background: transparent;</span><br><span class="line">color: transparent;</span><br><span class="line">&#125;</span><br><span class="line">/*  <span class="comment">#endif  */</span></span><br><span class="line">.main &#123;</span><br><span class="line">width: 100%;</span><br><span class="line">height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">.pop &#123;</span><br><span class="line">width: 100%;</span><br><span class="line">display: flex;</span><br><span class="line">flex-direction: column;</span><br><span class="line">align-items: center;</span><br><span class="line">&amp;_title &#123;</span><br><span class="line">color: <span class="comment">#333333; font-size: 32rpx; font-weight: 500; margin-top: 32rpx;</span></span><br><span class="line">&#125;</span><br><span class="line">&amp;_del &#123;</span><br><span class="line">display: flex;</span><br><span class="line">align-items: center;</span><br><span class="line">justify-content: center;</span><br><span class="line">position: absolute;</span><br><span class="line">top: 43rpx;</span><br><span class="line">right: 35rpx;</span><br><span class="line">width: 40rpx;</span><br><span class="line">height: 40rpx;</span><br><span class="line">&amp;_img &#123;</span><br><span class="line">width: 23rpx; </span><br><span class="line">height: 23rpx;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&amp;_scroll &#123;</span><br><span class="line">width: 100%;</span><br><span class="line">margin-top: 62rpx;</span><br><span class="line">&amp;_main &#123;</span><br><span class="line">padding-top: 10rpx;</span><br><span class="line">&amp;_item &#123;</span><br><span class="line">display: flex;</span><br><span class="line">flex-direction: column;</span><br><span class="line">align-items: center;</span><br><span class="line">margin-right: 23.1rpx;</span><br><span class="line">&amp;_out &#123;</span><br><span class="line">display: flex;</span><br><span class="line">align-items: center;</span><br><span class="line">justify-content: center;</span><br><span class="line">width: 98rpx;</span><br><span class="line">height: 98rpx;</span><br><span class="line">border-radius: 50%;</span><br><span class="line">&#125;</span><br><span class="line">&amp;_in &#123;</span><br><span class="line"> width: 74rpx; </span><br><span class="line"> height: 74rpx; </span><br><span class="line"> border-radius: 80%;</span><br><span class="line">&#125;</span><br><span class="line">&amp;_name &#123;</span><br><span class="line">margin-top: 8rpx;</span><br><span class="line">color: <span class="comment">#333333; </span></span><br><span class="line">font-size: 22rpx;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&amp;_box &#123;</span><br><span class="line">display: flex;</span><br><span class="line">align-items: center;</span><br><span class="line">width: 690rpx; </span><br><span class="line">height: 102rpx; </span><br><span class="line">background-color: <span class="comment">#F9F9FA; </span></span><br><span class="line">margin-top: 60rpx; </span><br><span class="line">border-radius: 24rpx;</span><br><span class="line">&amp;_input &#123;</span><br><span class="line">color: <span class="comment">#333333; </span></span><br><span class="line">font-size: 28rpx; </span><br><span class="line">margin-left: 30rpx; </span><br><span class="line">width: 630rpx; </span><br><span class="line">border-radius: 24rpx;</span><br><span class="line">&#125;</span><br><span class="line">&amp;_placeholder &#123;</span><br><span class="line">color: <span class="comment">#B3BABE; </span></span><br><span class="line">font-size: 28rpx</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&amp;_button &#123;</span><br><span class="line">border-radius: 14rpx; </span><br><span class="line">background-color: <span class="comment">#FF3A3A; </span></span><br><span class="line">margin: 130rpx 0 52rpx 0; </span><br><span class="line">color: <span class="comment">#FFFFFF; </span></span><br><span class="line">font-size: 30rpx; </span><br><span class="line">width: 690rpx; </span><br><span class="line">height: 98rpx; </span><br><span class="line">line-height: 98rpx;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> uniapp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 弹窗 </tag>
            
            <tag> uniapp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>uptime-kumab私有部署</title>
      <link href="/posts/12817a66.html"/>
      <url>/posts/12817a66.html</url>
      
        <content type="html"><![CDATA[<h2 id="项目安装"><a href="#项目安装" class="headerlink" title="项目安装"></a>项目安装</h2><ol><li><p>因为项目的作者提供了docker的安装方式，所有我们这个教程也是基于docker安装的</p></li><li><p>使用ssh工具连接到需要安装的服务器，然后复制下列安装命令</p><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker volume create uptime-kuma</span><br><span class="line">docker run -d --restart=always -p 3001:3001 -v uptime-kuma:/app/data --name uptime-kuma louislam/uptime-kuma:1</span><br></pre></td></tr></table></figure>              </div>            </details></li><li><p>项目安装完成以后，通过http:&#x2F;&#x2F;你服务器ip:3001来访问uptime-kuma，如果不能访问到项目，那就需要去服务器的安全组中放行3001端口。如果是提示的3001端口冲突，可以把3001端口修改为其他端口</p></li></ol><h2 id="设置域名访问（反向代理）"><a href="#设置域名访问（反向代理）" class="headerlink" title="设置域名访问（反向代理）"></a>设置域名访问（反向代理）</h2><ol><li><p>在宝塔面板中添加站点，输入你解析好的域名，PHP版本选纯静态</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://document.cuixinyu.com/img/posts/%E5%88%9B%E5%BB%BA%E7%AB%99%E7%82%B9.png" alt="创建站点"/></div><span class="image-caption">创建站点</span></div></li><li><p>打开站点修改，然后修改反向代理。在目标URL中填入http:&#x2F;&#x2F;你服务器ip:3001，然后保存</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://document.cuixinyu.com/img/posts/%E9%85%8D%E7%BD%AE%E5%8F%8D%E4%BB%A3.png" alt="配置反代"/></div><span class="image-caption">配置反代</span></div></li><li><p>在浏览器窗口输入你的域名就可以正常访问到项目后台</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 后端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 搭建 </tag>
            
            <tag> 私有部署 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>twikoo邮件通知模板</title>
      <link href="/posts/6bbbe4a5.html"/>
      <url>/posts/6bbbe4a5.html</url>
      
        <content type="html"><![CDATA[<h2 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h2><ol><li>作者：<a href="https://blog.zhheo.com/">张洪Heo</a></li><li>魔改：<a href="https://diary.lovelu.top/">满心Heo</a></li></ol><h3 id="效果预览"><a href="#效果预览" class="headerlink" title="效果预览"></a>效果预览</h3><div class="img-wrap"><div class="img-bg"><img class="img" src="https://document.cuixinyu.com/img/posts/twikoo%E9%82%AE%E4%BB%B6%E9%80%9A%E7%9F%A5%E6%A8%A1%E6%9D%BF.png" alt="方案一"/></div><span class="image-caption">方案一</span></div><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><h4 id="MAIL-TEMPLATE"><a href="#MAIL-TEMPLATE" class="headerlink" title="MAIL_TEMPLATE"></a>MAIL_TEMPLATE</h4><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#压缩后</span></span><br><span class="line">&lt;style&gt;@keyframes huxi&#123;0%&#123;opacity:.2;transform:scale(.8);transform:translateY(10px);box-shadow:0 1px 2px rgba(255,255,255,.1)&#125;100%&#123;opacity:1;transform:scale(1);transform:translateY(-10px);box-shadow:0 1px 30px rgba(197,52,62,1)&#125;&#125;&lt;/style&gt;&lt;div class=<span class="string">&quot;page flex-col&quot;</span>&gt;&lt;div class=<span class="string">&quot;box_3 flex-col&quot;</span> style=<span class="string">&quot;display:flex;position:relative;width:100%;height:206px;background:#ef859d2e;top:0;left:0;justify-content:center&quot;</span>&gt;&lt;div class=<span class="string">&quot;section_1 flex-col&quot;</span> style=<span class="string">&quot;background-image:url(&amp;quot;https://blog.cuixinyu.com/img/others/avatar.png&amp;quot;);position:absolute;width:152px;height:152px;display:flex;top:130px;background-size:cover;border-radius:50%;animation:huxi 1200ms ease-out infinite alternate;background-color:#fff&quot;</span>&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=<span class="string">&quot;box_4 flex-col&quot;</span> style=<span class="string">&quot;margin-top:92px;display:flex;flex-direction:column;align-items:center&quot;</span>&gt;&lt;div class=<span class="string">&quot;text-group_5 flex-col justify-between&quot;</span> style=<span class="string">&quot;display:flex;flex-direction:column;align-items:center;margin:0 20px&quot;</span>&gt;&lt;span class=<span class="string">&quot;text_1&quot;</span> style=<span class="string">&quot;font-size:26px;font-family:PingFang-SC-Bold,PingFang-SC;font-weight:700;color:#000;line-height:37px;text-align:center&quot;</span>&gt;嘿！您在&amp;nbsp;<span class="variable">$&#123;SITE_NAME&#125;</span>&amp;nbsp;博客中收到一条新回复。&lt;/span&gt;&lt;/div&gt;&lt;div class=<span class="string">&quot;box_2 flex-row&quot;</span> style=<span class="string">&quot;margin:0 20px;min-height:128px;background:#F7F7F7;border-radius:12px;margin-top:34px;display:flex;flex-direction:column;align-items:flex-start;padding:32px 16px;width:calc(100% - 40px)&quot;</span>&gt;&lt;div class=<span class="string">&quot;text-wrapper_4 flex-col justify-between&quot;</span> style=<span class="string">&quot;display:flex;flex-direction:column;margin-left:30px;margin-bottom:16px&quot;</span>&gt;&lt;span class=<span class="string">&quot;text_3&quot;</span> style=<span class="string">&quot;height:22px;font-size:16px;font-family:PingFang-SC-Bold,PingFang-SC;font-weight:700;color:#C5343E;line-height:22px&quot;</span>&gt;<span class="variable">$&#123;PARENT_NICK&#125;</span>&lt;/span&gt; &lt;span class=<span class="string">&quot;text_4&quot;</span> style=<span class="string">&quot;margin-top:6px;margin-right:22px;font-size:16px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#000;line-height:22px&quot;</span>&gt;<span class="variable">$&#123;PARENT_COMMENT&#125;</span>&lt;/span&gt;&lt;/div&gt;&lt;hr style=<span class="string">&quot;display:flex;position:relative;border:1px dashed #ef859d2e;box-sizing:content-box;height:0;overflow:visible;width:100%&quot;</span>&gt;&lt;div class=<span class="string">&quot;text-wrapper_4 flex-col justify-between&quot;</span> style=<span class="string">&quot;display:flex;flex-direction:column;margin-left:30px&quot;</span>&gt;&lt;span class=<span class="string">&quot;text_3&quot;</span> style=<span class="string">&quot;height:22px;font-size:16px;font-family:PingFang-SC-Bold,PingFang-SC;font-weight:700;color:#C5343E;line-height:22px&quot;</span>&gt;<span class="variable">$&#123;NICK&#125;</span>&lt;/span&gt; &lt;span class=<span class="string">&quot;text_4&quot;</span> style=<span class="string">&quot;margin-top:6px;margin-right:22px;font-size:16px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#000;line-height:22px&quot;</span>&gt;<span class="variable">$&#123;COMMENT&#125;</span>&lt;/span&gt;&lt;/div&gt;&lt;a class=<span class="string">&quot;text-wrapper_2 flex-col&quot;</span> style=<span class="string">&quot;min-width:106px;height:38px;background:#ef859d38;border-radius:32px;display:flex;align-items:center;justify-content:center;text-decoration:none;margin:auto;margin-top:32px&quot;</span> href=<span class="string">&quot;<span class="variable">$&#123;POST_URL&#125;</span>&quot;</span>&gt;&lt;span class=<span class="string">&quot;text_5&quot;</span> style=<span class="string">&quot;color:#DB214B&quot;</span>&gt;查看详情&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=<span class="string">&quot;text-group_6 flex-col justify-between&quot;</span> style=<span class="string">&quot;display:flex;flex-direction:column;align-items:center;margin-top:34px&quot;</span>&gt;&lt;span class=<span class="string">&quot;text_6&quot;</span> style=<span class="string">&quot;height:17px;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#00045;line-height:17px&quot;</span>&gt;此邮件由评论服务自动发出，直接回复无效。&lt;/span&gt; &lt;a class=<span class="string">&quot;text_7&quot;</span> style=<span class="string">&quot;height:17px;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#DB214B;line-height:17px;margin-top:6px;text-decoration:none&quot;</span> href=<span class="string">&quot;<span class="variable">$&#123;SITE_URL&#125;</span>&quot;</span>&gt;前往博客&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#未压缩方便魔改</span></span><br><span class="line">&lt;style&gt;</span><br><span class="line">@keyframes huxi &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        opacity: .2;</span><br><span class="line">        transform: scale(.8);</span><br><span class="line">        transform: translateY(10px);</span><br><span class="line">        box-shadow: 0 1px 2px rgba(255, 255, 255, 0.1);</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        opacity: 1;</span><br><span class="line">        transform: scale(1);</span><br><span class="line">        transform: translateY(-10px);</span><br><span class="line">        box-shadow: 0 1px 30px rgba(197, 52, 62, 1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;page flex-col&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;box_3 flex-col&quot;</span> style=<span class="string">&quot;display: flex;position: relative;width: 100%;height: 206px;background: #ef859d2e;top: 0;left: 0;justify-content: center;&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;section_1 flex-col&quot;</span> style=<span class="string">&quot;background-image: url(&amp;quot;https://blog.cuixinyu.com/img/others/avatar.png&amp;quot;);position: absolute;width: 152px;height: 152px;display: flex;top: 130px;background-size: cover;border-radius: 50%;animation: huxi 1200ms ease-out infinite alternate;background-color:#ffffff&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;box_4 flex-col&quot;</span> style=<span class="string">&quot;margin-top: 92px;display: flex;flex-direction: column;align-items: center;&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;text-group_5 flex-col justify-between&quot;</span> style=<span class="string">&quot;display: flex;flex-direction: column;align-items: center;margin: 0 20px;&quot;</span>&gt;</span><br><span class="line">            &lt;span class=<span class="string">&quot;text_1&quot;</span> style=<span class="string">&quot;font-size: 26px;font-family: PingFang-SC-Bold, PingFang-SC;font-weight: bold;color: #000000;line-height: 37px;text-align: center;&quot;</span>&gt;嘿！您在&amp;nbsp;<span class="variable">$&#123;SITE_NAME&#125;</span>&amp;nbsp;博客中收到一条新回复。&lt;/span&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;box_2 flex-row&quot;</span> style=<span class="string">&quot;margin: 0 20px;min-height: 128px;background: #F7F7F7;border-radius: 12px;margin-top: 34px;display: flex;flex-direction: column;align-items: flex-start;padding: 32px 16px;width: calc(100% - 40px);&quot;</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;text-wrapper_4 flex-col justify-between&quot;</span> style=<span class="string">&quot;display: flex;flex-direction: column;margin-left: 30px;margin-bottom: 16px;&quot;</span>&gt;</span><br><span class="line">                &lt;span class=<span class="string">&quot;text_3&quot;</span> style=<span class="string">&quot;height: 22px;font-size: 16px;font-family: PingFang-SC-Bold, PingFang-SC;font-weight: bold;color: #C5343E;line-height: 22px;&quot;</span>&gt;<span class="variable">$&#123;PARENT_NICK&#125;</span>&lt;/span&gt;</span><br><span class="line">                &lt;span class=<span class="string">&quot;text_4&quot;</span> style=<span class="string">&quot;margin-top: 6px;margin-right: 22px;font-size: 16px;font-family: PingFangSC-Regular, PingFang SC;font-weight: 400;color: #000000;line-height: 22px;&quot;</span>&gt;<span class="variable">$&#123;PARENT_COMMENT&#125;</span>&lt;/span&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;hr style=<span class="string">&quot;display: flex;position: relative;border: 1px dashed #ef859d2e;box-sizing: content-box;height: 0px;overflow: visible;width: 100%;&quot;</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;text-wrapper_4 flex-col justify-between&quot;</span> style=<span class="string">&quot;display: flex;flex-direction: column;margin-left: 30px;&quot;</span>&gt;</span><br><span class="line">                &lt;span class=<span class="string">&quot;text_3&quot;</span> style=<span class="string">&quot;height: 22px;font-size: 16px;font-family: PingFang-SC-Bold, PingFang-SC;font-weight: bold;color: #C5343E;line-height: 22px;&quot;</span>&gt;<span class="variable">$&#123;NICK&#125;</span>&lt;/span&gt;</span><br><span class="line">                &lt;span class=<span class="string">&quot;text_4&quot;</span> style=<span class="string">&quot;margin-top: 6px;margin-right: 22px;font-size: 16px;font-family: PingFangSC-Regular, PingFang SC;font-weight: 400;color: #000000;line-height: 22px;&quot;</span>&gt;<span class="variable">$&#123;COMMENT&#125;</span>&lt;/span&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;a class=<span class="string">&quot;text-wrapper_2 flex-col&quot;</span> style=<span class="string">&quot;min-width: 106px;height: 38px;background: #ef859d38;border-radius: 32px;display: flex;align-items: center;justify-content: center;text-decoration: none;margin: auto;margin-top: 32px;&quot;</span> href=<span class="string">&quot;<span class="variable">$&#123;POST_URL&#125;</span>&quot;</span>&gt;</span><br><span class="line">                &lt;span class=<span class="string">&quot;text_5&quot;</span> style=<span class="string">&quot;color: #DB214B;&quot;</span>&gt;查看详情&lt;/span&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;text-group_6 flex-col justify-between&quot;</span> style=<span class="string">&quot;display: flex;flex-direction: column;align-items: center;margin-top: 34px;&quot;</span>&gt;</span><br><span class="line">            &lt;span class=<span class="string">&quot;text_6&quot;</span> style=<span class="string">&quot;height: 17px;font-size: 12px;font-family: PingFangSC-Regular, PingFang SC;font-weight: 400;color: #00000045;line-height: 17px;&quot;</span>&gt;此邮件由评论服务自动发出，直接回复无效。&lt;/span&gt;</span><br><span class="line">            &lt;a class=<span class="string">&quot;text_7&quot;</span> style=<span class="string">&quot;height: 17px;font-size: 12px;font-family: PingFangSC-Regular, PingFang SC;font-weight: 400;color: #DB214B;line-height: 17px;margin-top: 6px;text-decoration: none;&quot;</span> href=<span class="string">&quot;<span class="variable">$&#123;SITE_URL&#125;</span>&quot;</span>&gt;前往博客&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>              </div>            </details><h4 id="MAIL-TEMPLATE-ADMIN"><a href="#MAIL-TEMPLATE-ADMIN" class="headerlink" title="MAIL_TEMPLATE_ADMIN"></a>MAIL_TEMPLATE_ADMIN</h4><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#压缩后</span></span><br><span class="line">&lt;style&gt;@keyframes huxi&#123;0%&#123;opacity:.2;transform:scale(.8);transform:translateY(10px);box-shadow:0 1px 2px rgba(255,255,255,.1)&#125;100%&#123;opacity:1;transform:scale(1);transform:translateY(-10px);box-shadow:0 1px 30px rgba(197,52,62,1)&#125;&#125;&lt;/style&gt;&lt;div class=<span class="string">&quot;page flex-col&quot;</span>&gt;&lt;div class=<span class="string">&quot;box_3 flex-col&quot;</span> style=<span class="string">&quot;display:flex;position:relative;width:100%;height:206px;background:#ef859d2e;top:0;left:0;justify-content:center&quot;</span>&gt;&lt;div class=<span class="string">&quot;section_1 flex-col&quot;</span> style=<span class="string">&quot;background-image:url(&amp;quot;https://blog.cuixinyu.com/img/others/avatar.png&amp;quot;);position:absolute;width:152px;height:152px;display:flex;top:130px;background-size:cover;border-radius:50%;animation:huxi 1200ms ease-out infinite alternate;background-color:#fff&quot;</span>&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=<span class="string">&quot;box_4 flex-col&quot;</span> style=<span class="string">&quot;margin-top:92px;display:flex;flex-direction:column;align-items:center&quot;</span>&gt;&lt;div class=<span class="string">&quot;text-group_5 flex-col justify-between&quot;</span> style=<span class="string">&quot;display:flex;flex-direction:column;align-items:center;margin:0 20px&quot;</span>&gt;&lt;span class=<span class="string">&quot;text_1&quot;</span> style=<span class="string">&quot;font-size:26px;font-family:PingFang-SC-Bold,PingFang-SC;font-weight:700;color:#000;line-height:37px;text-align:center&quot;</span>&gt;嘿！您在&amp;nbsp;<span class="variable">$&#123;SITE_NAME&#125;</span>&amp;nbsp;博客中收到一条消息。&lt;/span&gt;&lt;/div&gt;&lt;div class=<span class="string">&quot;box_2 flex-row&quot;</span> style=<span class="string">&quot;margin:0 20px;min-height:128px;background:#F7F7F7;border-radius:12px;margin-top:34px;display:flex;flex-direction:column;align-items:flex-start;padding:32px 16px;width:calc(100% - 40px)&quot;</span>&gt;&lt;div class=<span class="string">&quot;text-wrapper_4 flex-col justify-between&quot;</span> style=<span class="string">&quot;display:flex;flex-direction:column;margin-left:30px&quot;</span>&gt;&lt;span class=<span class="string">&quot;text_3&quot;</span> style=<span class="string">&quot;height:22px;font-size:16px;font-family:PingFang-SC-Bold,PingFang-SC;font-weight:700;color:#C5343E;line-height:22px&quot;</span>&gt;<span class="variable">$&#123;NICK&#125;</span>&lt;/span&gt; &lt;span class=<span class="string">&quot;text_4&quot;</span> style=<span class="string">&quot;margin-top:6px;margin-right:22px;font-size:16px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#000;line-height:22px&quot;</span>&gt;<span class="variable">$&#123;COMMENT&#125;</span>&lt;/span&gt;&lt;/div&gt;&lt;a class=<span class="string">&quot;text-wrapper_2 flex-col&quot;</span> style=<span class="string">&quot;min-width:106px;height:38px;background:#ef859d38;border-radius:32px;display:flex;align-items:center;justify-content:center;text-decoration:none;margin:auto;margin-top:32px&quot;</span> href=<span class="string">&quot;<span class="variable">$&#123;POST_URL&#125;</span>&quot;</span>&gt;&lt;span class=<span class="string">&quot;text_5&quot;</span> style=<span class="string">&quot;color:#DB214B&quot;</span>&gt;查看详情&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=<span class="string">&quot;text-group_6 flex-col justify-between&quot;</span> style=<span class="string">&quot;display:flex;flex-direction:column;align-items:center;margin-top:34px&quot;</span>&gt;&lt;span class=<span class="string">&quot;text_6&quot;</span> style=<span class="string">&quot;height:17px;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#00045;line-height:17px&quot;</span>&gt;此邮件由评论服务自动发出，直接回复无效。&lt;/span&gt; &lt;a class=<span class="string">&quot;text_7&quot;</span> style=<span class="string">&quot;height:17px;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#DB214B;line-height:17px;margin-top:6px;text-decoration:none&quot;</span> href=<span class="string">&quot;<span class="variable">$&#123;SITE_URL&#125;</span>&quot;</span>&gt;前往博客&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> 查看代码测试 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#未压缩方便魔改</span></span><br><span class="line">&lt;style&gt;</span><br><span class="line">@keyframes huxi &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        opacity: .2;</span><br><span class="line">        transform: scale(.8);</span><br><span class="line">        transform: translateY(10px);</span><br><span class="line">        box-shadow: 0 1px 2px rgba(255, 255, 255, 0.1);</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        opacity: 1;</span><br><span class="line">        transform: scale(1);</span><br><span class="line">        transform: translateY(-10px);</span><br><span class="line">        box-shadow: 0 1px 30px rgba(197, 52, 62, 1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;page flex-col&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;box_3 flex-col&quot;</span> style=<span class="string">&quot;display: flex;position: relative;width: 100%;height: 206px;background: #ef859d2e;top: 0;left: 0;justify-content: center;&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;section_1 flex-col&quot;</span> style=<span class="string">&quot;background-image: url(&amp;quot;https://blog.cuixinyu.com/img/others/avatar.png&amp;quot;);position: absolute;width: 152px;height: 152px;display: flex;top: 130px;background-size: cover;border-radius: 50%;animation: huxi 1200ms ease-out infinite alternate;background-color:#ffffff&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;box_4 flex-col&quot;</span> style=<span class="string">&quot;margin-top: 92px;display: flex;flex-direction: column;align-items: center;&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;text-group_5 flex-col justify-between&quot;</span> style=<span class="string">&quot;display: flex;flex-direction: column;align-items: center;margin: 0 20px;&quot;</span>&gt;</span><br><span class="line">            &lt;span class=<span class="string">&quot;text_1&quot;</span> style=<span class="string">&quot;font-size: 26px;font-family: PingFang-SC-Bold, PingFang-SC;font-weight: bold;color: #000000;line-height: 37px;text-align: center;&quot;</span>&gt;嘿！您在&amp;nbsp;<span class="variable">$&#123;SITE_NAME&#125;</span>&amp;nbsp;博客中收到一条消息。&lt;/span&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;box_2 flex-row&quot;</span> style=<span class="string">&quot;margin: 0 20px;min-height: 128px;background: #F7F7F7;border-radius: 12px;margin-top: 34px;display: flex;flex-direction: column;align-items: flex-start;padding: 32px 16px;width: calc(100% - 40px);&quot;</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;text-wrapper_4 flex-col justify-between&quot;</span> style=<span class="string">&quot;display: flex;flex-direction: column;margin-left: 30px;&quot;</span>&gt;</span><br><span class="line">                &lt;span class=<span class="string">&quot;text_3&quot;</span> style=<span class="string">&quot;height: 22px;font-size: 16px;font-family: PingFang-SC-Bold, PingFang-SC;font-weight: bold;color: #C5343E;line-height: 22px;&quot;</span>&gt;<span class="variable">$&#123;NICK&#125;</span>&lt;/span&gt;</span><br><span class="line">                &lt;span class=<span class="string">&quot;text_4&quot;</span> style=<span class="string">&quot;margin-top: 6px;margin-right: 22px;font-size: 16px;font-family: PingFangSC-Regular, PingFang SC;font-weight: 400;color: #000000;line-height: 22px;&quot;</span>&gt;<span class="variable">$&#123;COMMENT&#125;</span>&lt;/span&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;a class=<span class="string">&quot;text-wrapper_2 flex-col&quot;</span> style=<span class="string">&quot;min-width: 106px;height: 38px;background: #ef859d38;border-radius: 32px;display: flex;align-items: center;justify-content: center;text-decoration: none;margin: auto;margin-top: 32px;&quot;</span> href=<span class="string">&quot;<span class="variable">$&#123;POST_URL&#125;</span>&quot;</span>&gt;</span><br><span class="line">                &lt;span class=<span class="string">&quot;text_5&quot;</span> style=<span class="string">&quot;color: #DB214B;&quot;</span>&gt;查看详情&lt;/span&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;text-group_6 flex-col justify-between&quot;</span> style=<span class="string">&quot;display: flex;flex-direction: column;align-items: center;margin-top: 34px;&quot;</span>&gt;</span><br><span class="line">            &lt;span class=<span class="string">&quot;text_6&quot;</span> style=<span class="string">&quot;height: 17px;font-size: 12px;font-family: PingFangSC-Regular, PingFang SC;font-weight: 400;color: #00000045;line-height: 17px;&quot;</span>&gt;此邮件由评论服务自动发出，直接回复无效。&lt;/span&gt;</span><br><span class="line">            &lt;a class=<span class="string">&quot;text_7&quot;</span> style=<span class="string">&quot;height: 17px;font-size: 12px;font-family: PingFangSC-Regular, PingFang SC;font-weight: 400;color: #DB214B;line-height: 17px;margin-top: 6px;text-decoration: none;&quot;</span> href=<span class="string">&quot;<span class="variable">$&#123;SITE_URL&#125;</span>&quot;</span>&gt;前往博客&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>              </div>            </details><p>More info: <a href="https://blog.zhheo.com/p/169a1abb.html">Twikoo评论回复邮件模板：Acrylic Mail 粉</a></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
            <tag> 魔改 </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小智の工具箱</title>
      <link href="/posts/7b2178fe.html"/>
      <url>/posts/7b2178fe.html</url>
      
        <content type="html"><![CDATA[<h2 id="徽标制作"><a href="#徽标制作" class="headerlink" title="徽标制作"></a>徽标制作</h2><div class="img-wrap"><div class="img-bg"><img class="img" src="https://img.shields.io/badge/小智の空间站-营业中-00A000?logo=starship&logoColor=ffffff" alt="徽标"/></div><span class="image-caption">徽标</span></div><details class="folding-tag" green><summary> 查看代码 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#使用自带svg库修改营业状态</span></span><br><span class="line">&lt;img class=<span class="string">&#x27;boardsign&#x27;</span> src=<span class="string">&#x27;https://img.shields.io/badge/小智の空间站-营业中-00A000?logo=starship&amp;logoColor=ffffff&#x27;</span> title=<span class="string">&#x27;距离百年老站也就差不到一百年~&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用base64新增底部徽标</span></span><br><span class="line">https://img.shields.io/badge/Document-%E4%B8%83%E7%89%9B%E4%BA%91-66ccff?style=flat&amp;logo=data:image/png;<span class="built_in">base64</span>,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABSlBMVEUAAAAAqusAqucAqugAqucAqucAqucAq+cAqucAqucAqu4AqucArOgAqucAqugAqucAqudBv+2r4vYFq+dEwO3I7Pmt4/YIrOcds+kLrejQ7/k+vuz7/f0htep40fK86Pj8/f48vex90/L+/v7y+v100PFhyvATsOh10PGH1vMCquej4PX2+/1ky/Aot+qB1PLl9vyl4PYBqueN2PPn9vyv4/aS2vR/1PKL2POv5Pfg9PuQ2fQDq+dNw+3e8/vi9ftUxu4KrefW8fpwz/G35veZ3PRiyu+J1/Ob3fWa3PWG1vNiyvAmtuqX3PRMw+255/cruOt40vL4/P0/vuz7/f4asulYx+9OxO45vOyW2/Tx+f3a8voZsunk9fsMruhPxO676Pfc8/vs+PzY8frZ8fr5/P1Uxe7f8/sUsOgxuut20fFnzPARr+j////TsxA5AAAAEHRSTlMADFiZyen5JJv1CIkYxyzjazELYAAAAAFiS0dEbbsGAK0AAAAHdElNRQfnBhwCJSCCA7hcAAAAAW9yTlQBz6J3mgAAAW1JREFUOMuFk+dbwjAQxkMXhTJOEHCAIod7oDhw773FvQdu/f8/26RNaAWe/r40ufeS9BYhAp8kK6qmqYos+Ugtfj0AgoDu/ycHDQ1caEbQqYfCUEM4VNUjUahDNCLO19VND/uOYBgaELb+w4CGGCw+rSkWr6fGY80ajVYHSCRTAC2tbj2VbAPQzfyZ+WlPJzLQ0enSM4lsl5kxH5HoLof57p5sr+N4Xx776UIiMv0MDCIO4TCXRwqjiGNFupSJwkzFcTSZmJwq5aZnZul6bp4JClHtUwuL6GBp2TarRBRppeqxuiYi0qoOsI4bm1vbO7t7+86qiicADpAHenh0DOIJRTicYNm6+fQMz7lRscJkXCBeskUSy0VulK1EMa4Qr1kNbvBWGCWWaos7xPsH8/uI+MRtZqppsWyeEV8qldc3xAI36azcfPeetvPw8cmD9Lsb5uu7RPn5dTWMd8t5Nq1323sPjvfoeQ9v4/H/A3dSSSgOyttsAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTI4VDAyOjM3OjMyKzAwOjAwDWUR0AAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0yOFQwMjozNzozMSswMDowME3Qs/EAAAAASUVORK5CYII=</span><br></pre></td></tr></table></figure>              </div>            </details><div class="hide-block"><button type="button" class="hide-button" style="">查看网址    </button><div class="hide-content"><p><a href="https://shields.io/">https://shields.io/</a><br><a href="https://tool.jisuapi.com/pic2base64.html">转base64</a></p></div></div><p>More info: </p><ul><li><a href="https://akilar.top/posts/e87ad7f8/">Add Github Badge</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/4a17b156.html"/>
      <url>/posts/4a17b156.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> uniapp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 多端 </tag>
            
            <tag> uniapp </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
